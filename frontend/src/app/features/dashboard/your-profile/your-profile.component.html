<div class="profile-container">
  <div class="profile-header">
    <div class="menu-icon">
      <mat-icon>more_vert</mat-icon>
    </div>
    <h2 class="section-title">Your Profile</h2>

    <div class="profile-image">
      <img [src]="avatarUrl" alt="Profile" />
      <mat-spinner *ngIf="isLoading" diameter="20"></mat-spinner>
    </div>

    <div class="greeting-text">
      <p class="greeting">{{ getGreeting() }} {{ userData.name }}</p>
      <p class="message">Continue Your Journey And Achieve Your Target</p>
    </div>

    <div class="action-buttons">
      <button mat-icon-button><mat-icon>notifications</mat-icon></button>
      <button mat-icon-button><mat-icon>mail</mat-icon></button>
      <button mat-icon-button><mat-icon>chat</mat-icon></button>
    </div>
  </div>

  <div class="activity-section">
    <h3 class="section-title">Last Activity</h3>

    <div class="activity-list" [class.expanded]="showAllActivities">
      <div *ngIf="timeLogs.length === 0 && !isLoadingLogs" class="no-activities">
        <p>No recent activities found</p>
      </div>

      <div class="activity-item" *ngFor="let log of (showAllActivities ? timeLogs : (timeLogs | slice:0:4))">
        <div class="activity-content">
          <p class="activity-project">Project: {{ log.project?.name || 'N/A' }}</p>
          <p class="activity-task">Task: {{ log.task?.name || 'N/A' }}</p>
          <p class="activity-time">{{ log.formattedTimeRange }}</p>
        </div>

        <button class="go-to-btn" (click)="goToTask(log)">
          Go To
        </button>
      </div>
    </div>

    <button class="see-all-button" (click)="toggleViewAllActivities()">
      {{ showAllActivities ? 'Show Less' : 'View All Activities' }}
    </button>
  </div>
</div>

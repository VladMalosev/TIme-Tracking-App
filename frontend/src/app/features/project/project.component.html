<div class="page-container">
    <div class="project-layout">
        <!-- Sidebar -->
      <div class="side-menu">
        <h3 class="menu-title">Project Menu</h3>
        <ul>
          <li>
            <a (click)="setActiveTab('dashboard')" [class.active]="activeTab === 'dashboard'">Dashboard</a>
          </li>
          <li>
            <a (click)="setActiveTab('members')" [class.active]="activeTab === 'members'">Members</a>
          </li>
          <li>
            <a (click)="setActiveTab('tasks')" [class.active]="activeTab === 'tasks'">Tasks</a>
          </li>
          <li *ngIf="canAccessInvitations()">
            <a (click)="setActiveTab('invitations')" [class.active]="activeTab === 'invitations'">Invitations</a>
          </li>
          <li *ngIf="canAccessLogs()">
            <a (click)="setActiveTab('time-logs')" [class.active]="activeTab === 'time-logs'">Time Logs</a>
          </li>
        </ul>
      </div>

        <!-- Main Content -->
        <div class="content-container">
            <!-- Dashboard Tab -->
            <div *ngIf="activeTab === 'dashboard'">
               <app-project-dashboard></app-project-dashboard>
            </div>

            <!-- Members Tab -->
            <div *ngIf="activeTab === 'members'">
                <app-project-members></app-project-members>
            </div>

          <!-- Tasks Tab -->
          <div *ngIf="activeTab === 'tasks'">
            <h2 class="tab-header m-lg-5">Tasks</h2>
            <p class="tab-description m-lg-5">Manage tasks for your project. Create new tasks or assign existing ones to collaborators.</p>

            <app-task-subtabs>

              <!-- Task Creation Component -->
              <div *ngIf="activeTaskTab === 'creation'">
                <app-project-tasks *ngIf="projectId"></app-project-tasks>
              </div>

              <!-- Task Assignment Component -->
              <div *ngIf="activeTaskTab === 'assignment'">
                <app-task-assignment *ngIf="projectId"></app-task-assignment>
              </div>


              <div *ngIf="activeTaskTab === 'my-tasks'">
                <app-my-tasks *ngIf="projectId"></app-my-tasks>
              </div>
            </app-task-subtabs>
          </div>

            <!-- Invitations Tab -->
            <div *ngIf="activeTab === 'invitations'">
              <app-project-invitations *ngIf="projectId"></app-project-invitations>
            </div>
        </div>
    </div>
</div>
